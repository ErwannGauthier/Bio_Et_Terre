{% extends 'store/base.html' %}

{% block title %}
Commande
{% endblock %}

{% block content %}
{% load static %}

<div class="col-lg-12">
    <br>
    <br>

    <div class="box-element">
        <table class="table">
            <tr>
                <th>
                    <h5>Articles: <strong>{{commande.get_cart_items}}</strong> dont {{produits.count}}
                        différent{% if produits.count > 1 %}s{% endif %}</h5>
                </th>
                <th>
                    <h5>Total: <strong>{{commande.get_cart_total}}€</strong></h5>
                </th>
                <th>
                    Date: {{commande.date_validation}}
                </th>
            </tr>
        </table>
    </div>

    <br>

    <div class="box-element">
        <div class="cart-row">
            <div style="flex:2"><strong>Image</strong></div>
            <div style="flex:2"><strong>Article</strong></div>
            <div style="flex:1"><strong>Prix</strong></div>
            <div style="flex:1"><strong>Quantité</strong></div>
            <div style="flex:1"><strong>Total</strong></div>
        </div>

        {% for produit in produits %}
        <div class="cart-row">
            <div style="flex:2"><a href="{% url 'store:detail' produit.id_produit.id %}"><img
                        src="{{produit.id_produit.image}}" alt="{{produit.id_produit.nom}}" height="75" width="75"></a>
            </div>
            <div style="flex:2">
                <p>{{produit.id_produit.nom}}</p>
            </div>
            <div style="flex:1">
                <p>{{produit.id_produit.prix}}€</p>
            </div>
            <div style="flex:1">
                <p class="quantity">{{produit.quantite}}</p>
            </div>
            <div style="flex:1">
                <p>{{produit.calcPrixTotal}}€</p>
            </div>
        </div>
        {% endfor %}
    </div>

    <br>
</div>

{% endblock %}